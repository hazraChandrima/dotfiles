# Modern Kitty Terminal Configuration
# Catppuccin Latte Theme + Hack Nerd Font
# Optimized for Hyprland

# ===============================
# FONT CONFIGURATION
# ===============================
font_family      FiraCode Nerd Font Mono
bold_font        FiraCode Nerd Font Mono Bold
italic_font      FiraCode Nerd Font Mono Italic
bold_italic_font FiraCode Nerd Font Mono Bold Italic

font_size 12.0
# Fira Code ligatures and features
font_features FiraCodeNerdFontMono-Regular +liga +calt

# Adjust line height for better readability
adjust_line_height  2
adjust_column_width 0

# ===============================
# CURSOR CONFIGURATION
# ===============================
cursor_shape block
cursor_beam_thickness 2.0
cursor_underline_thickness 2.0
cursor_blink_interval 0.5
cursor_stop_blinking_after 15.0

# ===============================
# SCROLLBACK
# ===============================
scrollback_lines 10000
scrollback_pager less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
scrollback_pager_history_size 0
scrollback_fill_enlarged_window no
wheel_scroll_multiplier 5.0
wheel_scroll_min_lines 1
touch_scroll_multiplier 1.0

# ===============================
# MOUSE
# ===============================
mouse_hide_wait 3.0
url_color #1e66f5
url_style curly
open_url_with default
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh
detect_urls yes
copy_on_select no
strip_trailing_spaces never
select_by_word_characters @-./_~?&=%+#
click_interval -1.0
focus_follows_mouse no
pointer_shape_when_grabbed arrow
default_pointer_shape beam
pointer_shape_when_dragging beam

# ===============================
# PERFORMANCE TUNING
# ===============================
repaint_delay 10
input_delay 3
sync_to_monitor yes

# ===============================
# TERMINAL BELL
# ===============================
enable_audio_bell no
visual_bell_duration 0.0
visual_bell_color none
window_alert_on_bell yes
bell_on_tab "ðŸ”” "
command_on_bell none
bell_path none

# ===============================
# WINDOW LAYOUT
# ===============================
remember_window_size  yes
initial_window_width  1200
initial_window_height 800
enabled_layouts *
window_resize_step_cells 2
window_resize_step_lines 2
window_border_width 0.5pt
draw_minimal_borders yes
window_margin_width 8
window_padding_width 12
placement_strategy center
active_border_color #1e66f5
inactive_border_color #9ca0b0
bell_border_color #fe640b
inactive_text_alpha 1.0

# ===============================
# ROUNDED CORNERS & MODERN STYLING
# ===============================
hide_window_decorations no
window_logo_path none
window_logo_position bottom-right
window_logo_alpha 0.5
resize_debounce_time 0.1
resize_draw_strategy static
resize_in_steps no
confirm_os_window_close 0

# ===============================
# TAB BAR
# ===============================
tab_bar_edge bottom
tab_bar_margin_width 0.0
tab_bar_margin_height 0.0 0.0
tab_bar_style powerline
tab_bar_align left
tab_bar_min_tabs 2
tab_switch_strategy previous
tab_fade 0.25 0.5 0.75 1
tab_separator " â”‡"
tab_powerline_style angled
tab_activity_symbol none
tab_title_template "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{title}"
active_tab_title_template none
active_tab_foreground   #4c4f69
active_tab_background   #eff1f5
active_tab_font_style   bold
inactive_tab_foreground #6c6f85
inactive_tab_background #e6e9ef
inactive_tab_font_style normal

# ===============================
# CATPPUCCIN LATTE COLOR SCHEME
# ===============================
# The basic colors
foreground              #4c4f69
background              #eff1f5
selection_foreground    #eff1f5
selection_background    #dc8a78

# Cursor colors
cursor                  #dc8a78
cursor_text_color       #eff1f5

# URL underline color when hovering with mouse
url_color               #1e66f5

# Kitty window border colors
active_border_color     #7287fd
inactive_border_color   #9ca0b0
bell_border_color       #df8e1d

# OS Window titlebar colors
wayland_titlebar_color system
macos_titlebar_color system

# Tab bar colors
active_tab_foreground   #eff1f5
active_tab_background   #8839ef
inactive_tab_foreground #4c4f69
inactive_tab_background #9ca0b0

# Colors for marks (marked text in the terminal)
mark1_foreground #eff1f5
mark1_background #7287fd
mark2_foreground #eff1f5
mark2_background #8839ef
mark3_foreground #eff1f5
mark3_background #209fb5

# The 16 terminal colors

# black
color0 #5c5f77
color8 #6c6f85

# red
color1 #d20f39
color9 #d20f39

# green
color2  #40a02b
color10 #40a02b

# yellow
color3  #df8e1d
color11 #df8e1d

# blue
color4  #1e66f5
color12 #1e66f5

# magenta
color5  #ea76cb
color13 #ea76cb

# cyan
color6  #179299
color14 #179299

# white
color7  #acb0be
color15 #bcc0cc

# ===============================
# KEY BINDINGS
# ===============================

# Clear default shortcuts first
clear_all_shortcuts no

# Clipboard
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard
map ctrl+shift+s paste_from_selection
map shift+insert paste_from_selection
map ctrl+shift+o pass_selection_to_program

# Scrolling
map ctrl+shift+up        scroll_line_up
map ctrl+shift+k         scroll_line_up
map ctrl+shift+down      scroll_line_down
map ctrl+shift+j         scroll_line_down
map ctrl+shift+page_up   scroll_page_up
map ctrl+shift+page_down scroll_page_down
map ctrl+shift+home      scroll_home
map ctrl+shift+end       scroll_end
map ctrl+shift+h         show_scrollback
map ctrl+shift+g         show_last_command_output

# Window management
map ctrl+shift+enter new_window
map ctrl+shift+n new_os_window
map ctrl+shift+w close_window
map ctrl+shift+] next_window
map ctrl+shift+[ previous_window
map ctrl+shift+f move_window_forward
map ctrl+shift+b move_window_backward
map ctrl+shift+` move_window_to_top
map ctrl+shift+r start_resizing_window
map ctrl+shift+1 first_window
map ctrl+shift+2 second_window
map ctrl+shift+3 third_window
map ctrl+shift+4 fourth_window
map ctrl+shift+5 fifth_window
map ctrl+shift+6 sixth_window
map ctrl+shift+7 seventh_window
map ctrl+shift+8 eighth_window
map ctrl+shift+9 ninth_window
map ctrl+shift+0 tenth_window

# Tab management
map ctrl+shift+right next_tab
map ctrl+shift+left  previous_tab
map ctrl+shift+t     new_tab
map ctrl+shift+q     close_tab
map shift+cmd+w      close_os_window
map ctrl+shift+.     move_tab_forward
map ctrl+shift+,     move_tab_backward
map ctrl+shift+alt+t set_tab_title

# Layout management
map ctrl+shift+l next_layout
map ctrl+shift+alt+l last_used_layout

# Font sizes
map ctrl+shift+equal     change_font_size all +2.0
map ctrl+shift+plus      change_font_size all +2.0
map ctrl+shift+kp_add    change_font_size all +2.0
map ctrl+shift+minus     change_font_size all -2.0
map ctrl+shift+kp_subtract change_font_size all -2.0
map ctrl+shift+backspace change_font_size all 0

# Miscellaneous
map ctrl+shift+f5 load_config_file
map ctrl+shift+f6 debug_config
map ctrl+shift+delete clear_terminal reset active
map ctrl+shift+escape kitty_shell window
map ctrl+shift+a>m    set_background_opacity +0.1
map ctrl+shift+a>l    set_background_opacity -0.1
map ctrl+shift+a>1    set_background_opacity 1
map ctrl+shift+a>d    set_background_opacity default
map ctrl+shift+u      kitten unicode_input

# Hyprland specific bindings
map ctrl+alt+t launch --type=os-window
map super+t launch --type=os-window
map ctrl+shift+z toggle_layout stack
map f11 toggle_fullscreen

# ===============================
# HYPRLAND SPECIFIC SETTINGS
# ===============================
wayland_titlebar_color system
linux_display_server wayland

# Background opacity for compositor effects
background_opacity 0.95
dynamic_background_opacity no

# Blur settings (works with Hyprland blur)
background_blur 0

# Better rendering on Wayland
sync_to_monitor yes
wayland_enable_ime yes

# ===============================
# ADVANCED FEATURES
# ===============================

# Shell integration
shell_integration enabled

# Allow remote control
allow_remote_control yes
listen_on unix:/tmp/mykitty

# Startup session
startup_session none

# Close confirmation
confirm_os_window_close 0

# Update check
update_check_interval 0

# ===============================
# PERFORMANCE & MISC
# ===============================

# GPU acceleration
linux_display_server wayland
